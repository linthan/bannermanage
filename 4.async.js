(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{BNNL:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var n=l(a("wCAj")),u=l(a("2Taf")),d=l(a("vZ4D")),i=l(a("l4Ni")),o=l(a("ujKo")),c=l(a("MhPg")),s=l(a("p0pE")),f=r(a("q1tI")),m=l(a("BenC"));var p=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,i.default)(this,(0,o.default)(t).call(this,e)),a.handleTableChange=function(e,t,r){var l=a.props.onChange;l&&l(e,t,r)},a.state={},a}return(0,c.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.state,t=(e.selectedRowKeys,e.needTotalList,this.props),a=t.data,r=a.data,l=void 0===r?[]:r,u=a.total,d=void 0===u?0:u,i=t.loading,o=t.columns,c=t.rowKey,p={total:d},v=(0,s.default)({showSizeChanger:!0,showQuickJumper:!0,defaultPageSize:20},p);return f.default.createElement("div",{className:m.default.standardTable},f.default.createElement(n.default,{loading:i,rowKey:c||"id",dataSource:l,columns:o,pagination:v,onChange:this.handleTableChange}))}}]),t}(f.PureComponent),v=p;t.default=v},BenC:function(e,t,a){e.exports={standardTable:"standardTable___3IzXW",tableAlert:"tableAlert___QnOou"}},DOM4:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getBreadcrumb=void 0,a("sPJy");var n=l(a("bE4q")),u=l(a("eHn4")),d=l(a("2Taf")),i=l(a("vZ4D")),o=l(a("l4Ni")),c=l(a("ujKo")),s=l(a("MhPg")),f=r(a("q1tI")),m=l(a("bALw")),p=l(a("tbSg")),v=a("S/9j"),b=function(e,t){var a=e[t];return a||Object.keys(e).forEach(function(r){(0,m.default)(r).test(t)&&(a=e[r])}),a||{}};t.getBreadcrumb=b;var h=function(e){function t(){var e,a;(0,d.default)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=(0,o.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(l))),a.state={breadcrumb:null},a.getBreadcrumbDom=function(){var e=a.conversionBreadcrumbList();a.setState({breadcrumb:e})},a.getBreadcrumbProps=function(){var e=a.props,t=e.routes,r=e.params,l=e.location,n=e.breadcrumbNameMap;return{routes:t,params:r,routerLocation:l,breadcrumbNameMap:n}},a.conversionFromProps=function(){var e=a.props,t=e.breadcrumbList,r=e.breadcrumbSeparator,l=e.itemRender,d=e.linkElement,i=void 0===d?"a":d;return f.default.createElement(n.default,{className:p.default.breadcrumb,separator:r},t.map(function(e){var t=l?l(e):e.title;return f.default.createElement(n.default.Item,{key:e.title},e.href?(0,f.createElement)(i,(0,u.default)({},"a"===i?"href":"to",e.href),t):t)}))},a.conversionFromLocation=function(e,t){var r=a.props,l=r.breadcrumbSeparator,d=r.home,i=r.itemRender,o=r.linkElement,c=void 0===o?"a":o,s=(0,v.urlToList)(e.pathname),m=s.map(function(e,a){var r=b(t,e);if(r.inherited)return null;var l=a!==s.length-1&&r.component,d=i?i(r):r.name;return r.name&&!r.hideInBreadcrumb?f.default.createElement(n.default.Item,{key:e},(0,f.createElement)(l?c:"span",(0,u.default)({},"a"===c?"href":"to",e),d)):null});return m.unshift(f.default.createElement(n.default.Item,{key:"home"},(0,f.createElement)(c,(0,u.default)({},"a"===c?"href":"to","/"),d||"Home"))),f.default.createElement(n.default,{className:p.default.breadcrumb,separator:l},m)},a.conversionBreadcrumbList=function(){var e=a.props,t=e.breadcrumbList,r=e.breadcrumbSeparator,l=a.getBreadcrumbProps(),u=l.routes,d=l.params,i=l.routerLocation,o=l.breadcrumbNameMap;return t&&t.length?a.conversionFromProps():u&&d?f.default.createElement(n.default,{className:p.default.breadcrumb,routes:u.filter(function(e){return e.breadcrumbName}),params:d,itemRender:a.itemRender,separator:r}):i&&i.pathname?a.conversionFromLocation(i,o):null},a.itemRender=function(e,t,r,l){var n=a.props.linkElement,u=void 0===n?"a":n,d=r.indexOf(e)===r.length-1;return d||!e.component?f.default.createElement("span",null,e.breadcrumbName):(0,f.createElement)(u,{href:l.join("/")||"/",to:l.join("/")||"/"},e.breadcrumbName)},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.getBreadcrumbDom()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;if(t&&e.location){var a=e.location.pathname;a!==t.pathname&&this.getBreadcrumbDom()}}},{key:"render",value:function(){var e=this.state.breadcrumb;return e}}]),t}(f.PureComponent);t.default=h},LIIa:function(e,t,a){"use strict";var r=a("tAuX"),l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cWXX");var n=l(a("/ezw")),u=l(a("jehZ")),d=l(a("2Taf")),i=l(a("vZ4D")),o=l(a("l4Ni")),c=l(a("ujKo")),s=l(a("MhPg"));a("Znn+");var f=l(a("ZTPi")),m=r(a("q1tI")),p=l(a("TSYQ")),v=l(a("tbSg")),b=l(a("DOM4")),h=f.default.TabPane,g=function(e){function t(){var e,a;(0,d.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,o.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(l))),a.onChange=function(e){var t=a.props.onTabChange;t&&t(e)},a}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.logo,r=e.action,l=e.content,d=e.extraContent,i=e.tabList,o=e.className,c=e.tabActiveKey,s=e.tabDefaultActiveKey,g=e.tabBarExtraContent,y=e.loading,E=void 0!==y&&y,_=e.wide,C=void 0!==_&&_,S=e.hiddenBreadcrumb,k=void 0!==S&&S,N=(0,p.default)(v.default.pageHeader,o),w={};return void 0!==s&&(w.defaultActiveKey=s),void 0!==c&&(w.activeKey=c),m.default.createElement("div",{className:N},m.default.createElement("div",{className:C?v.default.wide:""},m.default.createElement(n.default,{loading:E,title:!1,active:!0,paragraph:{rows:3},avatar:{size:"large",shape:"circle"}},k?null:m.default.createElement(b.default,this.props),m.default.createElement("div",{className:v.default.detail},a&&m.default.createElement("div",{className:v.default.logo},a),m.default.createElement("div",{className:v.default.main},m.default.createElement("div",{className:v.default.row},t&&m.default.createElement("h1",{className:v.default.title},t),r&&m.default.createElement("div",{className:v.default.action},r)),m.default.createElement("div",{className:v.default.row},l&&m.default.createElement("div",{className:v.default.content},l),d&&m.default.createElement("div",{className:v.default.extraContent},d)))),i&&i.length?m.default.createElement(f.default,(0,u.default)({className:v.default.tabs},w,{onChange:this.onChange,tabBarExtraContent:g}),i.map(function(e){return m.default.createElement(h,{tab:e.tab,key:e.key})})):null)))}}]),t}(m.PureComponent);t.default=g},"S/9j":function(e,t,a){"use strict";function r(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,a){return"/".concat(t.slice(0,a+1).join("/"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.urlToList=r},TdCm:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var n=r(a("kLXV"));a("DZo9");var u=r(a("8z0m"));a("5Dmo");var d=r(a("3S7+"));a("+L6B");var i=r(a("2/Rp"));a("Pwec");var o=r(a("CtXQ"));a("5NDa");var c=r(a("5rEg"));a("giR+");var s=r(a("fyUT")),f=r(a("2Taf")),m=r(a("vZ4D")),p=r(a("l4Ni")),v=r(a("ujKo")),b=r(a("MhPg"));a("y8nQ");var h,g,y,E,_=r(a("Vl3Y")),C=l(a("q1tI")),S=a("MuoO"),k=_.default.Item,N=(h=(0,S.connect)(function(e){var t=e.skinbase,a=e.loading;return{skinbase:t,loading:a.models.skinbase}}),g=_.default.create(),h(y=g((E=function(e){function t(){var e,a;(0,f.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,p.default)(this,(e=(0,v.default)(t)).call.apply(e,[this].concat(l))),a.customRequestFactor=function(e){return function(t){var r=t.onSuccess,l=t.onError,n=t.file,u=function(t){var n=a.props.dispatch,u=new FormData;u.append("file",t),u.append("sizeType",e),n({type:"skinbase/uploadPic",payload:u,onSuccess:r,onError:l})};u(n)}},a.getFieldValueFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return a=Array.isArray(t)?t:t&&t.fileList,a=a.slice(-r),a=a.map(function(e){var t=e;return e.response&&(t.url=e.response.url,t.url?t.name=t.url.substring(t.url.lastIndexOf("/")+1):t.name=""),t}),a}},a}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.form,a=e.setForm;a(t)}},{key:"render",value:function(){var e=this.props,t=e.formTitle,a=e.modalVisible,r=e.form,l=e.handleAdd,f=e.handleUpdate,m=e.handleCreateUpdateModalVisible,p=function(){r.validateFields(function(e,t){e||(r.resetFields(),0===t.id?l(t):f(t))})};return C.default.createElement(n.default,{maskClosable:!1,title:C.default.createElement("span",null,C.default.createElement("span",{style:{fontWeight:700,color:"rgba(0, 0, 0, 0.647058823529412)"}},t)),visible:a,onOk:p,onCancel:function(){return m()}},C.default.createElement(k,{style:{display:"none"},labelCol:{span:5},wrapperCol:{span:15},label:"id"},r.getFieldDecorator("id",{})(C.default.createElement(s.default,{placeholder:"\u8bf7\u8f93\u5165"}))),C.default.createElement(k,{labelCol:{span:5},wrapperCol:{span:15},label:"\u5206\u7c7b\u540d\u79f0:"},r.getFieldDecorator("name",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5206\u7c7b\u540d\u79f0..."}]})(C.default.createElement(c.default,{maxLength:6,placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}))),C.default.createElement(k,{labelCol:{span:5},wrapperCol:{span:15},label:"\u4f4d\u7f6e\u6743\u91cd:"},r.getFieldDecorator("rank",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5c55\u793a\u4f4d\u7f6e..."}]})(C.default.createElement(s.default,{min:1,style:{width:"100%"},placeholder:"\u8bf7\u586b\u5199\u4f4d\u7f6e\u6743\u91cd"}))),C.default.createElement(k,{labelCol:{span:5},wrapperCol:{span:15},label:"\u76ae\u80a4\u5c01\u9762"},r.getFieldDecorator("cover",{rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u76ae\u80a4\u5c01\u9762..."}],valuePropName:"fileList",getValueFromEvent:this.getFieldValueFactory(1)})(C.default.createElement(u.default,{listType:"picture",customRequest:this.customRequestFactor("1")},C.default.createElement(i.default,{style:{marginRight:6}},C.default.createElement(o.default,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20"),C.default.createElement(d.default,{placement:"topLeft",title:"\u56fe\u7247\u5c3a\u5bf8: \u5b98\u65b9\u76ae\u80a4(339*216),\u5176\u4ed6\u76ae\u80a4( 357x525)"},C.default.createElement(o.default,{type:"info-circle",theme:"outlined"}))))))}}]),t}(C.PureComponent),y=E))||y)||y);t.default=N},TrM9:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("jehZ"));a("IzEo");var u=r(a("bx4M"));a("Pwec");var d=r(a("CtXQ"));a("/zsF");var i=r(a("PArb"));a("P2fV");var o=r(a("NJEC"));a("14J3");var c=r(a("BMrR"));a("+L6B");var s=r(a("2/Rp"));a("5NDa");var f=r(a("5rEg"));a("jCWc");var m=r(a("kPKH")),p=r(a("p0pE")),v=r(a("2Taf")),b=r(a("vZ4D")),h=r(a("l4Ni")),g=r(a("ujKo")),y=r(a("MhPg"));a("5Dmo");var E=r(a("3S7+"));a("OaEy");var _=r(a("2fM7"));a("y8nQ");var C,S,k,N,w=r(a("Vl3Y")),M=l(a("q1tI")),L=a("MuoO"),P=r(a("wd/R")),F=a("7DNP"),T=r(a("BNNL")),D=r(a("XZXw")),x=a("Vvvh"),V=r(a("fm1/")),j=r(a("TdCm")),B=w.default.Item,I=_.default.Option,A="\u65b0\u5efa",z=function(e,t){return e=e||[],e.map(function(e,a){return M.default.createElement(E.default,{key:e.pic,overlayStyle:{wordBreak:"break-all"},placement:"topLeft",title:M.default.createElement("img",{alt:e.pic,style:{width:140,height:140},src:e.pic})},M.default.createElement("a",{style:{marginRight:6,display:"block"},target:"blank",href:e.pic},"".concat(t).concat(a+1)))})},O=function(e){return Object.keys(e).map(function(t){return e[t]}).join(",")},R=(C=(0,L.connect)(function(e){var t=e.mailibanner,a=e.loading;return{mailibanner:t,loading:a.models.mailibanner}}),S=w.default.create(),C(k=S((N=function(e){function t(){var e,a;(0,v.default)(this,t);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return a=(0,h.default)(this,(e=(0,g.default)(t)).call.apply(e,[this].concat(l))),a.state={createUpdateModalVisible:!1,pagination:{},formValues:{},formTitle:A},a.setForm=function(e){a.form=e},a.handleStandardTableChange=function(e,t,r){var l=a.props.dispatch,n=a.state.formValues,u=Object.keys(t).reduce(function(e,a){var r=(0,p.default)({},e);return r[a]=O(t[a]),r},{}),d=(0,p.default)({},n,u,{current:e.current,pageSize:e.pageSize});r.field&&(d.sorter="".concat(r.field,"_").concat(r.order)),a.setState({pagination:e}),l({type:"mailibanner/fetch",payload:d})},a.handleCreateUpdateModalVisible=function(e){a.setState({createUpdateModalVisible:!!e})},a.handleAdd=function(e){var t=a.props.dispatch,r=a.state,l=r.formValues,n=r.pagination;t({type:"mailibanner/add",payload:(0,p.default)({},e),callback:function(){t({type:"mailibanner/fetch",payload:(0,p.default)({},l,{current:n.current?n.current:1,pageSize:n.pageSize?n.pageSize:20})})}}),a.setState({createUpdateModalVisible:!1})},a.handleUpdate=function(e){var t=a.props.dispatch,r=a.state,l=r.formValues,n=r.pagination;t({type:"mailibanner/add",payload:(0,p.default)({},e),callback:function(){t({type:"mailibanner/fetch",payload:(0,p.default)({},l,{current:n.current?n.current:1,pageSize:n.pageSize?n.pageSize:20})})}}),a.setState({createUpdateModalVisible:!1})},a.handleFormReset=function(){var e=a.props,t=e.form,r=e.dispatch;t.resetFields(),a.setState({formValues:{}}),r({type:"mailibanner/fetch",payload:{current:1,pageSize:20}})},a.handleSearch=function(e){e.preventDefault();var t=a.state.pagination,r=a.props,l=r.dispatch,n=r.form;n.validateFields(function(e,r){if(!e){var n=(0,p.default)({},r);a.setState({formValues:n});var u=(0,p.default)({},n,{current:t.current?t.current:1,pageSize:t.pageSize?t.pageSize:20});l({type:"mailibanner/fetch",payload:u})}})},a.delete=function(e){var t=a.props.dispatch,r=a.state,l=r.formValues,n=r.pagination;t({type:"mailibanner/remove",payload:{id:e},callback:function(){t({type:"mailibanner/fetch",payload:(0,p.default)({},l,{current:n.current?n.current:1,pageSize:n.pageSize?n.pageSize:20})})}})},a.add=function(){var e=a.props.dispatch;e(F.routerRedux.push("/maili/bannerc/create"))},a.update=function(e){var t=a.props.dispatch;t(F.routerRedux.push("/maili/bannerc/".concat(e.slug||"create")))},a.renderForm=function(){var e=a.props.form,t=e.getFieldDecorator;return M.default.createElement(w.default,{onSubmit:a.handleSearch,layout:"inline"},M.default.createElement(c.default,{gutter:{md:8,lg:24,xl:48}},M.default.createElement(m.default,{md:4,sm:24},M.default.createElement(B,{label:"\u72b6\u6001"},t("status")(M.default.createElement(_.default,{style:{width:"100%"},placeholder:"\u72b6\u6001"},x.statusList.map(function(e){return M.default.createElement(I,{key:e[0],value:e[0]},e[1])}))))),M.default.createElement(m.default,{md:4,sm:24},M.default.createElement(B,{label:"\u540d\u79f0"},t("name")(M.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0"})))),M.default.createElement(m.default,{md:4,sm:24},M.default.createElement(B,{label:"Slug"},t("slug")(M.default.createElement(f.default,{placeholder:"\u8bf7\u8f93\u5165Slug"})))),M.default.createElement(m.default,{md:6,sm:24},M.default.createElement("span",{className:V.default.submitButtons},M.default.createElement(s.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),M.default.createElement(s.default,{style:{marginLeft:8},onClick:a.handleFormReset},"\u91cd\u7f6e")))))},a}return(0,y.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"mailibanner/fetch"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.mailibanner.data,r=void 0===a?{}:a,l=t.loading,c=this.state,f=c.createUpdateModalVisible,m=c.formTitle,p=[{title:"\u5206\u7c7b\u540d\u79f0",dataIndex:"name"},{title:"Banner ID",dataIndex:"id"},{title:"Slug",dataIndex:"slug"},{title:"\u5e7b\u706f\u7247",dataIndex:"banners",render:function(e){return z(e,"\u67e5\u770b")}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"opname"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return x.statusMap[e]?x.statusMap[e]:"\u672a\u77e5"}},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"updateTime",render:function(e){return M.default.createElement("span",null,(0,P.default)(1e3*e).format("YYYY-MM-DD HH:mm:ss"))}},{title:"\u64cd\u4f5c",render:function(t){return 1===t.status?M.default.createElement(M.Fragment,null,M.default.createElement(o.default,{title:"\u786e\u5b9a\u5220\u9664\u5417\uff1f",onConfirm:function(){e.delete(t.id)}},M.default.createElement("a",null,"\u5220\u9664")),M.default.createElement(i.default,{type:"vertical"}),M.default.createElement("a",{onClick:function(){e.update(t)}},"\u7f16\u8f91")):M.default.createElement(d.default,{type:"close-circle",theme:"outlined"})}}],v={resetFields:this.resetFields,handleAdd:this.handleAdd,handleUpdate:this.handleUpdate,setForm:this.setForm,handleCreateUpdateModalVisible:this.handleCreateUpdateModalVisible};return M.default.createElement(D.default,null,M.default.createElement(u.default,{bordered:!1},M.default.createElement("div",{className:V.default.tableList},M.default.createElement("div",{className:V.default.tableListForm},this.renderForm()),M.default.createElement("div",{className:V.default.tableListOperator},M.default.createElement(s.default,{className:V.default.mr18,style:{marginRight:18},icon:"plus",type:"primary",onClick:function(){return e.add()}},A)),M.default.createElement(T.default,{rowKey:"id",loading:l,data:r,columns:p,onChange:this.handleStandardTableChange}))),M.default.createElement(j.default,(0,n.default)({formTitle:m},v,{modalVisible:f})))}}]),t}(M.PureComponent),k=N))||k)||k);t.default=R},Vvvh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusList=t.statusMap=void 0;var r={1:"\u751f\u6548\u4e2d",2:"\u5df2\u5220\u9664"};t.statusMap=r;var l=[[1,"\u751f\u6548\u4e2d"],[2,"\u5df2\u5220\u9664"]];t.statusList=l},XZXw:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a("jehZ")),n=r(a("Y/ft")),u=r(a("q1tI")),d=a("7DNP"),i=r(a("LIIa")),o=r(a("fxZG")),c=function(e){var t=e.children,a=e.wrapperClassName,r=e.top,c=(0,n.default)(e,["children","wrapperClassName","top"]);return u.default.createElement("div",{style:{margin:"-24px -24px 0"},className:a},r,u.default.createElement(i.default,(0,l.default)({key:"pageheader"},c,{linkElement:d.Link})),t?u.default.createElement("div",{className:o.default.content},t):null)};t.default=c},"fm1/":function(e,t,a){e.exports={tableList:"tableList___32-02",tableListOperator:"tableListOperator___1WsVA",tableListForm:"tableListForm___kE_gZ",submitButtons:"submitButtons___3HxBi",radioGroup:"radioGroup___2SLL4",mr6:"mr6___STGiG",mr12:"mr12___3AffY",mr18:"mr18___2-7Po"}},fxZG:function(e,t,a){e.exports={content:"content___3M67u"}},tbSg:function(e,t,a){e.exports={pageHeader:"pageHeader___1iHns",wide:"wide___2C7OC",detail:"detail___1e3wJ",row:"row___2J8z7",breadcrumb:"breadcrumb___338ih",tabs:"tabs___1BGMJ",logo:"logo___3zKcj",title:"title___2IWNm",action:"action___2PlQA",content:"content___10BQ4",extraContent:"extraContent___34iZA",main:"main___RRSQT"}}}]);